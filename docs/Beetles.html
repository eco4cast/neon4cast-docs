<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.146">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NEON Ecological Forecasting Challenge Documentation - 5&nbsp; Theme: Beetle Communities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Evaluation.html" rel="next">
<link href="./Phenology.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Beetles.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Theme: Beetle Communities</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/EFI_Logo-1.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">NEON Ecological Forecasting Challenge Documentation</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Aquatics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Theme: Aquatic Ecosystems</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Terrestrial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Theme: Terrestrial Ecosystems</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Ticks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Theme: Tick Populations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Phenology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Theme: Phenology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Beetles.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Theme: Beetle Communities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">How did my forecast perform?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Shared-Forecast-Drivers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Meteorology Inputs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./UseInCourse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Using the Challenge in Classes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./contributors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Contributors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FAQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Frequently Asked Questions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WorkflowExample.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Example Forecast Workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./container.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Docker Container</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">5.1</span> Overview</a></li>
  <li><a href="#challenge" id="toc-challenge" class="nav-link" data-scroll-target="#challenge"><span class="header-section-number">5.2</span> Challenge</a></li>
  <li><a href="#data-targets" id="toc-data-targets" class="nav-link" data-scroll-target="#data-targets"><span class="header-section-number">5.3</span> Data: Targets</a>
  <ul class="collapse">
  <li><a href="#abundance-of-beetles-abundance" id="toc-abundance-of-beetles-abundance" class="nav-link" data-scroll-target="#abundance-of-beetles-abundance"><span class="header-section-number">5.3.1</span> Abundance of beetles (abundance)</a></li>
  <li><a href="#species-richness-n" id="toc-species-richness-n" class="nav-link" data-scroll-target="#species-richness-n"><span class="header-section-number">5.3.2</span> Species richness (n)</a></li>
  <li><a href="#focal-sites" id="toc-focal-sites" class="nav-link" data-scroll-target="#focal-sites"><span class="header-section-number">5.3.3</span> Focal sites</a></li>
  <li><a href="#target-data-calculation" id="toc-target-data-calculation" class="nav-link" data-scroll-target="#target-data-calculation"><span class="header-section-number">5.3.4</span> Target data calculation</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">5.4</span> References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Theme: Beetle Communities</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>What:</strong> Beetle abundance and species richness</p>
<p><strong>Where:</strong> 47 terrestrial NEON sites that span the diverse ecosystems of the U.S.</p>
<p><strong>When:</strong> Forecasts for 52 weeks into the future using a weekly time-step are accepted at any time.</p>
<p><strong>Why:</strong> Improve understanding of habitat quality, conservation potential, land-use sustainability, and biodiversity change in response to global change and ecological disturbances</p>
<section id="overview" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">5.1</span> Overview</h2>
<p>Biodiversity monitoring is critical for understanding environmental quality, evaluating the sustainability of land-use practices, and forecasting future impacts of global change on ecosystems. Sentinel species give forewarning of environmental risk to humans, so are particularly useful for such monitoring and forecasting efforts because they can provide surrogates for other co-located components of biodiversity (Sauberer et al.&nbsp;2004).</p>
<p>Ground beetles (Family: Carabidae) are appropriate candidates for biodiversity monitoring and ecological forecasting as they are well-studied sentinel species that are geographically widespread, and their community dynamics are particularly congruent with the diversity of other invertebrates (Holland 2002; Lundgren &amp; McCravy 2011; Bousquet 2012; Hoekman et al.&nbsp;2017). Therefore, monitoring carabid communities and forecasting changes in their species richness and abundance can be useful in studying edge effects and habitat quality (Magura 2002), conservation potential (Butterfield 1995), land-use sustainability (Pearce &amp; Venier 2006) and biodiversity change in response to global change and ecological disturbances (Koivula 2011). Most ecological forecasting models are limited in the geographic scale and also suffer from scarcity of temporally extensive data. Further, most existing forecasting efforts focus on a single species (Humphries et al.&nbsp;2018) with limited community-wide forecasts at the continental scale. Developing forecasts for community-scale metrics (i.e., species richness, abundance) and evaluating such models for accuracy and generalizability can help test our scientific knowledge of spatial (geographical turnover) and temporal (seasonal, inter-annual) carabid community dynamics (Dietze et al.&nbsp;2018). Such forecasting models can inform regional or local habitat management, identify where biodiversity monitoring efforts should be prioritized, and shed light on what data or modelling techniques are needed to build the best forecasts of ecological dynamics (e.g., can we predict richness or abundance better and why?) (Johansson et al.&nbsp;2019).</p>
<p>With the long-term, community-wide, continental-scale data collection through the National Ecological Observatory Network (NEON), 181 data products are available for 81 sites in the US (47 terrestrial, at which carabids are sampled, and 34 aquatic). Fully initiated in 2019, this sampling will continue for 30 years (Schimel et al.&nbsp;2007; 2011). NEON has effectively removed the previous barriers to community-scale forecasting across a broader geographical realm.</p>
</section>
<section id="challenge" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="challenge"><span class="header-section-number">5.2</span> Challenge</h2>
<p>This is an open ecological forecasting challenge to forecast carabid species richness, defined as the total number of species, and abundance, defined as the total number of carabid individuals. The forecasts should be done weekly per site for all NEON terrestrial sites with richness being absolute and abundance scaled by the sampling effort. NEON releases carabid sampling data weekly and no sooner than 60 days after collection, so a model submitted on June 30 can include a forecast for the first week of May, and so forth. Teams may use any open data products as drivers of richness and abundance so long as they are not from the month being forecast, and are made publicly available (minimum of URL, but ideally a script). Potential driver data sources include: NEON site data (<a href="https://www.neonscience.org/data-collection/soils-sediments" target="_blank">Soil and sediment data</a>, <a href="https://www.neonscience.org/data-collection/terrestrial-plants" target="_blank">Terrestrial Plant data</a>, <a href="https://www.neonscience.org/data-collection/meteorology" target="_blank">weather data</a>), NOAA forecasts, and beyond.</p>
</section>
<section id="data-targets" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="data-targets"><span class="header-section-number">5.3</span> Data: Targets</h2>
<p>The challenge uses the following NEON data product:<br>
<a href="https://data.neonscience.org/data-products/DP1.10022.001" target="_blank">DP1.10022.001</a>: Ground beetles sampled from pitfall traps</p>
<p>Forecasts will be made on a weekly basis for the abundance of beetles at a given NEON site at a given month (‘abundance’) and the observed species richness (n, number of species) of carabid beetles at each NEON site, each month.</p>
<section id="abundance-of-beetles-abundance" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="abundance-of-beetles-abundance"><span class="header-section-number">5.3.1</span> Abundance of beetles (abundance)</h3>
<p><strong>Definition</strong></p>
<p>Total number of carabid individuals per trap-night, estimated each week of the year at each NEON site</p>
<p><strong>Motivation</strong></p>
<p>A forecast prediction can be compared against only measured data (i.e.&nbsp;counts) and not latent variables (i.e.&nbsp;true carabid abundance), which are only inferred under specific model assumptions. However, raw count of beetles found in a particular trap depends on many other drivers than local abundance; in particular, the sampling effort. To avoid the need to accurately predict the sampling effort, we compute a target variable as counts per trap-night (number of nights each trap was set at the site; also called ‘catch per unit effort’). We chose this to define this variable in terms of total carabid abundance, rather than resolving to particular taxonomy (in contrast to species-specific relative abundance) because it simplifies issues related to taxonomic resolution of unpinned samples, data latency, and the choice of focal species. As supported by literature (Hoekman et al.&nbsp;2017 and literature cited therein), we believe that abundance of the beetle family as a whole is an ecologically relevant metric. We considered predictions aggregated to the site level (rather than predicting individual traps or individual plots) to be both the most ecologically meaningful and simplest choice. Traps are typically collected every two weeks. Submitting a forecast for every week avoids the need to predict which weeks of the year collection does or does not occur.</p>
</section>
<section id="species-richness-n" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="species-richness-n"><span class="header-section-number">5.3.2</span> Species richness (n)</h3>
<p><strong>Definition</strong></p>
<p>Total number of unique ‘species’ in a sampling bout for each NEON site each week. For this challenge, we define ‘species’ as the taxonomic unit closest to species (e.g., species, genus, morphospecies) for each individual since not all identifications in the raw data are strictly at species-level.</p>
<p><strong>Motivation</strong></p>
<p>A forecast prediction can be compared against only measured data (i.e.&nbsp;observation count of taxonomic units) and not latent variables (i.e.&nbsp;count of species), which are only inferred under specific model and taxonomic assumptions. The number of unique taxonomic identities of beetles in a trap depends on many drivers, including sampling effort. As demonstrated by species rarefaction curves in ecology, the more time a trap is left out, the more individual beetles will fall in, and thus the more species can be expected. However, since perfect species-level data are not available to us and to keep the forecasted variables from being overly derived, we define the target variable as the total number of unique ‘species’ per week per NEON site. For this challenge, we chose to define ‘species’ as the taxonomic unit closest to species (e.g., species, genus, morphospecies) since not all identifications in the raw data are strictly at species-level. Species identifications will be used for individuals identified to sub-species level, as these are uncommon in the raw data. NEON taxonomists identify individuals as morphologically distinct units. Thus, it is reasonable to assert that the count of finest morphologically distinct identification (e.g., species, genus, morphospecies) is biologically meaningful, and thus the count of these is an important focal forecast variable. We focus on the NEON site as the spatial resolution and weekly intervals as the temporal resolution for the same reasons stated in the abundance metric.</p>
</section>
<section id="focal-sites" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="focal-sites"><span class="header-section-number">5.3.3</span> Focal sites</h3>
<p>All 47 NEON terrestrial sites are included</p>
<p>Information on the sites can be found here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>site_data <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/eco4cast/neon4cast-targets/main/NEON_Field_Site_Metadata_20220412.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(beetles <span class="sc">==</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 28%">
<col style="width: 37%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">siteID</th>
<th style="text-align: left;">site name</th>
<th style="text-align: left;">vegetation type</th>
<th style="text-align: right;">latitude</th>
<th style="text-align: right;">longtitude</th>
<th style="text-align: left;">NEON site URL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ABBY</td>
<td style="text-align: left;">Abby Road NEON</td>
<td style="text-align: left;">Evergreen Forest|Grassland/Herbaceous|Shrub/Scrub</td>
<td style="text-align: right;">45.76244</td>
<td style="text-align: right;">-122.33032</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/abby</td>
</tr>
<tr class="even">
<td style="text-align: left;">BARR</td>
<td style="text-align: left;">Utqiaġvik NEON</td>
<td style="text-align: left;">Emergent Herbaceous Wetlands</td>
<td style="text-align: right;">71.28241</td>
<td style="text-align: right;">-156.61936</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/barr</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BART</td>
<td style="text-align: left;">Bartlett Experimental Forest NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Mixed Forest</td>
<td style="text-align: right;">44.06389</td>
<td style="text-align: right;">-71.28737</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/bart</td>
</tr>
<tr class="even">
<td style="text-align: left;">BLAN</td>
<td style="text-align: left;">Blandy Experimental Farm NEON</td>
<td style="text-align: left;">Deciduous Forest|Pasture/Hay</td>
<td style="text-align: right;">39.03370</td>
<td style="text-align: right;">-78.04179</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/blan</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BONA</td>
<td style="text-align: left;">Caribou-Poker Creeks Research Watershed NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Mixed Forest|Woody Wetlands</td>
<td style="text-align: right;">65.15401</td>
<td style="text-align: right;">-147.50258</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/bona</td>
</tr>
<tr class="even">
<td style="text-align: left;">CLBJ</td>
<td style="text-align: left;">Lyndon B. Johnson National Grassland NEON</td>
<td style="text-align: left;">Deciduous Forest|Grassland/Herbaceous</td>
<td style="text-align: right;">33.40123</td>
<td style="text-align: right;">-97.57000</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/clbj</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPER</td>
<td style="text-align: left;">Central Plains Experimental Range NEON</td>
<td style="text-align: left;">Grassland/Herbaceous</td>
<td style="text-align: right;">40.81554</td>
<td style="text-align: right;">-104.74559</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/cper</td>
</tr>
<tr class="even">
<td style="text-align: left;">DCFS</td>
<td style="text-align: left;">Dakota Coteau Field Site NEON</td>
<td style="text-align: left;">Grassland/Herbaceous</td>
<td style="text-align: right;">47.16165</td>
<td style="text-align: right;">-99.10656</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/dcfs</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DEJU</td>
<td style="text-align: left;">Delta Junction NEON</td>
<td style="text-align: left;">Evergreen Forest|Shrub/Scrub|Woody Wetlands</td>
<td style="text-align: right;">63.88112</td>
<td style="text-align: right;">-145.75136</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/deju</td>
</tr>
<tr class="even">
<td style="text-align: left;">DELA</td>
<td style="text-align: left;">Dead Lake NEON</td>
<td style="text-align: left;">Evergreen Forest|Woody Wetlands</td>
<td style="text-align: right;">32.54173</td>
<td style="text-align: right;">-87.80388</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/dela</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DSNY</td>
<td style="text-align: left;">Disney Wilderness Preserve NEON</td>
<td style="text-align: left;">Pasture/Hay|Woody Wetlands</td>
<td style="text-align: right;">28.12505</td>
<td style="text-align: right;">-81.43619</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/dsny</td>
</tr>
<tr class="even">
<td style="text-align: left;">GRSM</td>
<td style="text-align: left;">Great Smoky Mountains National Park NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest</td>
<td style="text-align: right;">35.68896</td>
<td style="text-align: right;">-83.50195</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/grsm</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GUAN</td>
<td style="text-align: left;">Guanica Forest NEON</td>
<td style="text-align: left;">Evergreen Forest</td>
<td style="text-align: right;">17.96955</td>
<td style="text-align: right;">-66.86870</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/guan</td>
</tr>
<tr class="even">
<td style="text-align: left;">HARV</td>
<td style="text-align: left;">Harvard Forest &amp; Quabbin Watershed NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Mixed Forest|Woody Wetlands</td>
<td style="text-align: right;">42.53691</td>
<td style="text-align: right;">-72.17265</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/harv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HEAL</td>
<td style="text-align: left;">Healy NEON</td>
<td style="text-align: left;">Dwarf Scrub|Evergreen Forest|Shrub/Scrub</td>
<td style="text-align: right;">63.87580</td>
<td style="text-align: right;">-149.21335</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/heal</td>
</tr>
<tr class="even">
<td style="text-align: left;">JERC</td>
<td style="text-align: left;">The Jones Center At Ichauway NEON</td>
<td style="text-align: left;">Cultivated Crops|Deciduous Forest|Evergreen Forest|Mixed Forest</td>
<td style="text-align: right;">31.19484</td>
<td style="text-align: right;">-84.46862</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/jerc</td>
</tr>
<tr class="odd">
<td style="text-align: left;">JORN</td>
<td style="text-align: left;">Jornada Experimental Range NEON</td>
<td style="text-align: left;">Shrub/Scrub</td>
<td style="text-align: right;">32.59069</td>
<td style="text-align: right;">-106.84254</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/jorn</td>
</tr>
<tr class="even">
<td style="text-align: left;">KONA</td>
<td style="text-align: left;">Konza Prairie Agroecosystem NEON</td>
<td style="text-align: left;">Cultivated Crops</td>
<td style="text-align: right;">39.11045</td>
<td style="text-align: right;">-96.61293</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/kona</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KONZ</td>
<td style="text-align: left;">Konza Prairie Biological Station NEON</td>
<td style="text-align: left;">Deciduous Forest|Grassland/Herbaceous</td>
<td style="text-align: right;">39.10077</td>
<td style="text-align: right;">-96.56307</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/konz</td>
</tr>
<tr class="even">
<td style="text-align: left;">LAJA</td>
<td style="text-align: left;">Lajas Experimental Station NEON</td>
<td style="text-align: left;">Cultivated Crops|Grassland/Herbaceous|Pasture/Hay</td>
<td style="text-align: right;">18.02126</td>
<td style="text-align: right;">-67.07689</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/laja</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LENO</td>
<td style="text-align: left;">Lenoir Landing NEON</td>
<td style="text-align: left;">Deciduous Forest|Woody Wetlands</td>
<td style="text-align: right;">31.85386</td>
<td style="text-align: right;">-88.16118</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/leno</td>
</tr>
<tr class="even">
<td style="text-align: left;">MLBS</td>
<td style="text-align: left;">Mountain Lake Biological Station NEON</td>
<td style="text-align: left;">Deciduous Forest</td>
<td style="text-align: right;">37.37831</td>
<td style="text-align: right;">-80.52485</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/mlbs</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOAB</td>
<td style="text-align: left;">Moab NEON</td>
<td style="text-align: left;">Evergreen Forest|Shrub/Scrub</td>
<td style="text-align: right;">38.24828</td>
<td style="text-align: right;">-109.38827</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/moab</td>
</tr>
<tr class="even">
<td style="text-align: left;">NIWO</td>
<td style="text-align: left;">Niwot Ridge NEON</td>
<td style="text-align: left;">Evergreen Forest|Grassland/Herbaceous</td>
<td style="text-align: right;">40.05425</td>
<td style="text-align: right;">-105.58237</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/niwo</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NOGP</td>
<td style="text-align: left;">Northern Great Plains Research Laboratory NEON</td>
<td style="text-align: left;">Grassland/Herbaceous</td>
<td style="text-align: right;">46.76972</td>
<td style="text-align: right;">-100.91535</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/nogp</td>
</tr>
<tr class="even">
<td style="text-align: left;">OAES</td>
<td style="text-align: left;">Marvin Klemme Range Research Station NEON</td>
<td style="text-align: left;">Grassland/Herbaceous|Shrub/Scrub</td>
<td style="text-align: right;">35.41060</td>
<td style="text-align: right;">-99.05878</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/oaes</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ONAQ</td>
<td style="text-align: left;">Onaqui NEON</td>
<td style="text-align: left;">Evergreen Forest|Shrub/Scrub</td>
<td style="text-align: right;">40.17760</td>
<td style="text-align: right;">-112.45245</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/onaq</td>
</tr>
<tr class="even">
<td style="text-align: left;">ORNL</td>
<td style="text-align: left;">Oak Ridge NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Pasture/Hay</td>
<td style="text-align: right;">35.96413</td>
<td style="text-align: right;">-84.28259</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/ornl</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OSBS</td>
<td style="text-align: left;">Ordway-Swisher Biological Station NEON</td>
<td style="text-align: left;">Emergent Herbaceous Wetlands|Evergreen Forest|Woody Wetlands</td>
<td style="text-align: right;">29.68928</td>
<td style="text-align: right;">-81.99343</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/osbs</td>
</tr>
<tr class="even">
<td style="text-align: left;">PUUM</td>
<td style="text-align: left;">Pu’u Maka’ala Natural Area Reserve NEON</td>
<td style="text-align: left;">Evergreen Forest</td>
<td style="text-align: right;">19.55309</td>
<td style="text-align: right;">-155.31731</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/puum</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RMNP</td>
<td style="text-align: left;">Rocky Mountains NEON</td>
<td style="text-align: left;">Evergreen Forest</td>
<td style="text-align: right;">40.27590</td>
<td style="text-align: right;">-105.54596</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/rmnp</td>
</tr>
<tr class="even">
<td style="text-align: left;">SCBI</td>
<td style="text-align: left;">Smithsonian Conservation Biology Institute NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Pasture/Hay</td>
<td style="text-align: right;">38.89292</td>
<td style="text-align: right;">-78.13949</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/scbi</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SERC</td>
<td style="text-align: left;">Smithsonian Environmental Research Center NEON</td>
<td style="text-align: left;">Cultivated Crops|Deciduous Forest</td>
<td style="text-align: right;">38.89013</td>
<td style="text-align: right;">-76.56001</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/serc</td>
</tr>
<tr class="even">
<td style="text-align: left;">SJER</td>
<td style="text-align: left;">San Joaquin Experimental Range NEON</td>
<td style="text-align: left;">Evergreen Forest|Grassland/Herbaceous|Shrub/Scrub</td>
<td style="text-align: right;">37.10878</td>
<td style="text-align: right;">-119.73228</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/sjer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SOAP</td>
<td style="text-align: left;">Soaproot Saddle NEON</td>
<td style="text-align: left;">Evergreen Forest|Shrub/Scrub</td>
<td style="text-align: right;">37.03337</td>
<td style="text-align: right;">-119.26219</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/soap</td>
</tr>
<tr class="even">
<td style="text-align: left;">SRER</td>
<td style="text-align: left;">Santa Rita Experimental Range NEON</td>
<td style="text-align: left;">Shrub/Scrub</td>
<td style="text-align: right;">31.91068</td>
<td style="text-align: right;">-110.83549</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/srer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STEI</td>
<td style="text-align: left;">Steigerwaldt-Chequamegon NEON</td>
<td style="text-align: left;">Deciduous Forest|Mixed Forest|Woody Wetlands</td>
<td style="text-align: right;">45.50894</td>
<td style="text-align: right;">-89.58637</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/stei</td>
</tr>
<tr class="even">
<td style="text-align: left;">STER</td>
<td style="text-align: left;">North Sterling NEON</td>
<td style="text-align: left;">Cultivated Crops</td>
<td style="text-align: right;">40.46189</td>
<td style="text-align: right;">-103.02929</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/ster</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TALL</td>
<td style="text-align: left;">Talladega National Forest NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Mixed Forest</td>
<td style="text-align: right;">32.95047</td>
<td style="text-align: right;">-87.39326</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/tall</td>
</tr>
<tr class="even">
<td style="text-align: left;">TEAK</td>
<td style="text-align: left;">Lower Teakettle NEON</td>
<td style="text-align: left;">Evergreen Forest|Shrub/Scrub</td>
<td style="text-align: right;">37.00583</td>
<td style="text-align: right;">-119.00602</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/teak</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TOOL</td>
<td style="text-align: left;">Toolik Field Station NEON</td>
<td style="text-align: left;">Dwarf Scrub|Shrub/Scrub</td>
<td style="text-align: right;">68.66109</td>
<td style="text-align: right;">-149.37047</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/tool</td>
</tr>
<tr class="even">
<td style="text-align: left;">TREE</td>
<td style="text-align: left;">Treehaven NEON</td>
<td style="text-align: left;">Deciduous Forest|Evergreen Forest|Mixed Forest|Woody Wetlands</td>
<td style="text-align: right;">45.49369</td>
<td style="text-align: right;">-89.58571</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/tree</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UKFS</td>
<td style="text-align: left;">University of Kansas Field Station NEON</td>
<td style="text-align: left;">Deciduous Forest|Pasture/Hay</td>
<td style="text-align: right;">39.04043</td>
<td style="text-align: right;">-95.19215</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/ukfs</td>
</tr>
<tr class="even">
<td style="text-align: left;">UNDE</td>
<td style="text-align: left;">University of Notre Dame Environmental Research Center NEON</td>
<td style="text-align: left;">Deciduous Forest|Mixed Forest|Woody Wetlands</td>
<td style="text-align: right;">46.23391</td>
<td style="text-align: right;">-89.53725</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/unde</td>
</tr>
<tr class="odd">
<td style="text-align: left;">WOOD</td>
<td style="text-align: left;">Chase Lake National Wildlife Refuge NEON</td>
<td style="text-align: left;">Emergent Herbaceous Wetlands|Grassland/Herbaceous</td>
<td style="text-align: right;">47.12820</td>
<td style="text-align: right;">-99.24133</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/wood</td>
</tr>
<tr class="even">
<td style="text-align: left;">WREF</td>
<td style="text-align: left;">Wind River Experimental Forest NEON</td>
<td style="text-align: left;">Evergreen Forest</td>
<td style="text-align: right;">45.82049</td>
<td style="text-align: right;">-121.95191</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/wref</td>
</tr>
<tr class="odd">
<td style="text-align: left;">YELL</td>
<td style="text-align: left;">Yellowstone National Park NEON</td>
<td style="text-align: left;">Evergreen Forest|Grassland/Herbaceous|Shrub/Scrub</td>
<td style="text-align: right;">44.95348</td>
<td style="text-align: right;">-110.53914</td>
<td style="text-align: left;">https://www.neonscience.org/field-sites/yell</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="target-data-calculation" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="target-data-calculation"><span class="header-section-number">5.3.4</span> Target data calculation</h3>
<p>Ground beetle data are collected at each NEON site every two weeks throughout the sampling season. The sampling season is defined based on measures of growing season, including vegetation indices, phenology, and degree days, for a maximum of 13 bouts per site during which the 10-day average low temperature at the site is &gt;4°C.</p>
<p>Samples are collected from pitfall traps placed at each of the cardinal directions within the 10 plots per site representative of up to three dominant vegetation types. Four traps were placed from 2014-2017 and from 2018 onward the northward plot was eliminated leaving three traps for each plot. Ground beetles from the pitfall traps are removed, sorted, and identified to the lowest possible taxonomic rank or morphospecies. A subset of individuals (up to 467 per site and year) are sent to taxonomic experts for subsequent identification with priority on individuals for which species-level identification was not able to be assigned. Further detail can be found in the NEON Ground Beetle User Guide.</p>
<p>Raw (NEON L1 ground beetle data product <a href="https://data.neonscience.org/data-products/DP1.10022.001" target="_blank">DP1.10022.001</a>) are accessible via the NEON data portal, via the NEON API, via R using the neonUtilties package, and via R using neonStore::neon_download. The raw data is also available through the NEON data portal with archived copies at https://data.ecoforecast.org/minio/neonstore.</p>
<p>The raw data is processed to generate total abundance and richness per week per NEON site. All data in the supplied file is available to build and evaluate models before submitting a forecast to challenge. Once new data becomes available, the data are appended to the existing file. Within the challenge scoring, only the new data are used to evaluate previously submitted forecasts.</p>
<p>As part of our reproducible workflow, we provide an R script for producing derived tables of total abundance and richness from the raw NEON data. Our workflow gives preference to expert taxonomist identifications when available. Since expert taxonomy lags behind identifications from the sorting and pinning process, newer data will not be updated with expert taxonomy. The abundance table gives total abundance at each site for each week. The richness table gives an aggregate count of the number of ‘species’ at each site in each week.</p>
</section>
</section>
<section id="references" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="references"><span class="header-section-number">5.4</span> References</h2>
<p>Bousquet, Y. (2012) Catalogue of Geadephaga (Coleoptera: Adephaga) of America, north of Mexico. ZooKeys 245: 1-1722. https://doi.org/10.3897/zookeys.245.3416</p>
<p>Butterfield, J., Luff, M., Baines, M., Eyre, M. (1995) Carabid beetle communities as indicators of conservation potential in upland forests. Forest Ecology and Management 79, 63-77. https://doi.org/10.1016/0378-1127(95)03620-2</p>
<p>Dietze, M.C., Fox, A., Beck-Johnson, L.M., Betancourt, J.L., Hooten, M.B., Jarnevich, C.S., Keitt, T.H., Kenney, M.A., Laney, C.M., Larsen, L.G. (2018) Iterative near-term ecological forecasting: Needs, opportunities, and challenges. Proceedings of the National Academy of Sciences 115, 1424-1432. https://doi.org/10.1073/pnas.1710231115</p>
<p>Gneiting, T., &amp; Raftery, A. E. (2007). Strictly proper scoring rules, prediction, and estimation. Journal of the American Statistical Association, 102(477), 359–378. https://doi.org/10.1198/016214506000001437</p>
<p>Hoekman, D., LeVan, K.E., Gibson, C., Ball, G.E., Browne, R.A., Davidson, R.L., Eriwin, T.L., Knisley, C.B., LaBonte, J.R., Lundgren, J., Maddison, D.R., Moore, W., Niemela, J., Ober, K.A., Pearson, D.L. Spence, J.R., Will, K., Work, T. (2017) Design for ground beetle abundance and diversity sampling within the National Ecological Observatory Network. Ecosphere, 8(4), e01744. https://doi.org/10.1002/ecs2.1744</p>
<p>Holland, J.M. (2002) The agroecology of carabid beetles. Intercept Limited, Andover.</p>
<p>Humphries, G.R., Che-Castaldo, C., Bull, P., Lipstein, G., Ravia, A., Carrión, B., Bolton, T., Ganguly, A., Lynch, H.J. (2018) Predicting the future is hard and other lessons from a population time series data science competition. Ecological Informatics 48, 1-11. https://doi.org/10.1016/j.ecoinf.2018.07.004</p>
<p>Johansson, M.A., Apfeldorf, K.M., Dobson, S., Devita, J., Buczak, A.L., Baugher, B., Moniz, L.J., Bagley, T., Babin, S.M., Guven, E. (2019) An open challenge to advance probabilistic forecasting for dengue epidemics. Proceedings of the National Academy of Sciences 116, 24268-24274. https://doi.org/10.1073/pnas.1909865116</p>
<p>Koivula, M.J. (2011) Useful model organisms, indicators, or both? Ground beetles (Coleoptera, Carabidae) reflecting environmental conditions. ZooKeys, 287-317. https://doi.org/10.3897/zookeys.100.1533</p>
<p>Lundgren, J., McCravy, K. (2011) Carabid beetles (Coleoptera: Carabidae) of the Midwestern United States: A review and synthesis of recent research. Terrestrial arthropod reviews 4, 63-94. https://doi.org/10.1163/187498311X565606</p>
<p>Magura, T. (2002) Carabids and forest edge: spatial pattern and edge effect. Forest Ecology and Management 157, 23-37. https://doi.org/10.1016/S0378-1127(00)00654-X</p>
<p>Pearce, J.L., Venier, L.A. (2006) The use of ground beetles (Coleoptera: Carabidae) and spiders (Araneae) as bioindicators of sustainable forest management: A review. Ecological Indicators 6, 780-793. https://doi.org/10.1016/j.ecolind.2005.03.005</p>
<p>Sauberer, N., Zulka, K.P., Abensperg-Traun, M., Berg, H.-M., Bieringer, G., Milasowszky, N., Moser, D., Plutzar, C., Pollheimer, M., Storch, C. (2004) Surrogate taxa for biodiversity in agricultural landscapes of eastern Austria. Biological Conservation 117, 181-190. https://doi.org/10.1016/S0006-3207(03)00291-X</p>
<p>Schimel, D., Hargrove, W., Hoffman, F., MacMahon, J. (2007) NEON: a hierarchically designed national ecological network. Frontiers in Ecology and the Environment 5, 59-59. https://doi.org/10.1890/1540-9295(2007)5[59:NAHDNE]2.0.CO;2</p>
<p>Schimel, D., Keller, M., Berukoff, S., Hufft, R., Loescher, H., Powell, H., Kampe, T., Moore, D., Gram, W. (2011) NEON Science Strategy: Enabling Continental-Scale Ecological Forecasting. https://www.neonscience.org/sites/default/files/basic-page-files/NEON_Strategy_2011u2_0.pdf</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      try { hash = new URL(url).hash; } catch {}
      const id = hash.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note !== null) {
        try {
          const html = processXRef(id, note);
          instance.setContent(html);
        } finally {
          instance.enable();
          instance.show();
        }
      } else {
        // See if we can fetch this
        fetch(url.split('#')[0])
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.getElementById(id);
          console.log(htmlDoc.body.innerHTML);
          if (note !== null) {
            const html = processXRef(id, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Phenology.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Theme: Phenology</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Evaluation.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">How did my forecast perform?</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>